<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Classified: For Your Eyes Only</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body, html { height: 100%; width: 100%; overflow: hidden; background: #05070a; display: flex; justify-content: center; align-items: center; font-family: 'Georgia', serif; transition: background 5s ease; }
        
        .moonlight { position: absolute; width: 600px; height: 600px; background: radial-gradient(circle, rgba(147, 51, 234, 0.08) 0%, transparent 70%); border-radius: 50%; z-index: 1; transition: all 4s ease; }
        
        .star { position: absolute; background: white; border-radius: 50%; opacity: 0; animation: twinkle 3s infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.1; } 50% { opacity: 0.6; } }

        /* The Box */
        .box-wrapper { position: relative; width: 150px; height: 150px; cursor: pointer; z-index: 200; transition: all 1s ease; }
        .box-body { position: absolute; width: 100%; height: 100%; background: #991b1b; border-radius: 12px; box-shadow: inset 0 0 30px rgba(0,0,0,0.5), 0 20px 40px rgba(0,0,0,0.6); }
        .ribbon-v { position: absolute; width: 25px; height: 100%; background: #fb923c; left: 50%; transform: translateX(-50%); }
        .ribbon-h { position: absolute; width: 100%; height: 25px; background: #fb923c; top: 50%; transform: translateY(-50%); }

        /* Content Reveal */
        #proposal-content { display: none; flex-direction: column; align-items: center; z-index: 100; }
        .main-rose { font-size: 100px; opacity: 0; filter: drop-shadow(0 0 30px rgba(230, 57, 70, 0.4)); transition: opacity 2.5s ease; }
        .propose-text { color: #d1d9e6; opacity: 0; margin-top: 30px; text-align: center; transition: opacity 2s ease 0.5s; }

        .petal { position: fixed; top: -10%; pointer-events: none; z-index: 50; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(110vh) rotate(720deg); } }
        
        #ring-box { position: absolute; bottom: 40px; display: none; flex-direction: column; align-items: center; opacity: 0; transition: opacity 1.5s ease 3s; }
        .mission-emoji { font-size: 45px; cursor: pointer; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.15); } }
        
        #final-msg { display: none; margin-top: 15px; padding: 20px; background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 15px; width: 310px; color: white; border: 1px solid rgba(255,255,255,0.2); text-align: center; }
        .btn-group { display: flex; justify-content: center; gap: 20px; margin-top: 20px; }
        button { padding: 10px 25px; border-radius: 20px; border: none; font-family: 'Georgia', serif; font-weight: bold; cursor: pointer; }
        #yes-btn { background: #e63946; color: white; }
        #no-btn { background: #8e9aaf; color: white; position: relative; transition: all 0.1s ease; }

        /* Success Screen */
        #success-screen {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, #1a0b2e 0%, #05070a 100%);
            z-index: 1000; justify-content: center; align-items: center;
            flex-direction: column; text-align: center; color: white;
            padding: 30px;
        }
        .punjabi-lines { font-size: 22px; line-height: 1.6; color: #ffb7c5; margin-bottom: 25px; }
        .subtitle { font-size: 12px; color: rgba(255,255,255,0.5); font-style: italic; margin-top: 4px; }
    </style>
</head>
<body>

    <div class="moonlight" id="moon"></div>

    <div class="box-wrapper" id="mainBox" onclick="startPropose()">
        <div class="box-body"><div class="ribbon-v"></div><div class="ribbon-h"></div></div>
    </div>

    <div id="proposal-content">
        <div class="main-rose" id="theRose">üåπ</div>
        <div class="propose-text" id="theText">
            <p style="font-size: 18px; font-style: italic;">"Je pense √† toi... toujours."</p>
            <p class="subtitle">(I am thinking of you... always)</p>
            <p style="font-size: 14px; color: #e63946; letter-spacing: 4px; font-weight: bold; margin-top: 15px;">HAPPY PROPOSE DAY</p>
        </div>
    </div>

    <div id="ring-box">
        <div class="mission-emoji" onclick="revealRing()">üïµÔ∏è</div>
        <div id="final-msg">
            <p style="font-size: 18px; margin-bottom: 5px;">Will you be my crime ü´Ü in partner üï¥Ô∏èüïµÔ∏è?</p>
            <div class="btn-group">
                <button id="yes-btn" onclick="celebrate()">YES</button>
                <button id="no-btn" onmouseover="moveButton()" onclick="moveButton()">NO</button>
            </div>
        </div>
    </div>

    <div id="success-screen">
        <div class="punjabi-lines">
            Apna khayal rakhna tuc,<br>
            koi jee rhea thnu dekh dekh ke!!
        </div>
        <h1 style="margin-top: 20px; font-size: 28px; color: #ffb7c5;">CASE CLOSED ‚ù§Ô∏è</h1>
        <p style="margin-top: 15px; font-style: italic; color: rgba(255,255,255,0.6);">Partners in crime, forever.</p>
    </div>

    <script>
        for (let i = 0; i < 70; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.width = Math.random() * 2 + 'px';
            star.style.height = star.style.width;
            star.style.left = Math.random() * 100 + 'vw';
            star.style.top = Math.random() * 100 + 'vh';
            document.body.appendChild(star);
        }

        function startPropose() {
            if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
            document.body.style.background = "radial-gradient(circle at center, #1a0b2e 0%, #05070a 100%)";
            document.getElementById('mainBox').style.opacity = '0';
            setTimeout(() => { document.getElementById('mainBox').style.display = 'none'; }, 1000);
            document.getElementById('moon').style.background = 'radial-gradient(circle, rgba(147, 51, 234, 0.15) 0%, transparent 70%)';
            document.querySelectorAll('.star').forEach(s => s.style.opacity = '0.9');
            document.getElementById('proposal-content').style.display = 'flex';
            
            setInterval(() => {
                const p = document.createElement('div');
                p.innerHTML = 'üå∏'; p.className = 'petal';
                p.style.left = Math.random() * 100 + 'vw';
                p.style.fontSize = (Math.random() * 15 + 15) + 'px';
                p.style.animationDuration = (Math.random() * 3 + 5) + 's';
                document.body.appendChild(p);
                setTimeout(() => p.remove(), 8000);
            }, 400);

            // 2. Delay shortened to 2.5s
            setTimeout(() => {
                document.getElementById('theRose').style.opacity = '1';
                document.getElementById('theText').style.opacity = '1';
                document.getElementById('ring-box').style.display = 'flex';
                setTimeout(() => { document.getElementById('ring-box').style.opacity = '1'; }, 100);
            }, 2500);
        }

        function revealRing() {
            document.getElementById('final-msg').style.display = 'block';
            if (navigator.vibrate) navigator.vibrate(200);
        }

        function moveButton() {
            const btn = document.getElementById('no-btn');
            const x = Math.random() * (window.innerWidth - btn.offsetWidth);
            const y = Math.random() * (window.innerHeight - btn.offsetHeight);
            btn.style.position = 'fixed'; btn.style.left = x + 'px'; btn.style.top = y + 'px';
        }

        function celebrate() {
            document.getElementById('success-screen').style.display = 'flex';
            if (navigator.vibrate) navigator.vibrate([100, 100, 100]);
        }
    </script>
</body>
</html>

